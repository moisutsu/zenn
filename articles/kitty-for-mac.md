---
title: "GPUãƒ™ãƒ¼ã‚¹ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«Kittyã‚’macOSç”¨ã«ä½¿ã„ã‚„ã™ãè¨­å®šã™ã‚‹"
emoji: "ğŸ˜º"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["kitty", "terminal", "macOS"]
published: true
---

# ã¯ã˜ã‚ã«

[kitty](https://github.com/kovidgoyal/kitty)ã¯é«˜é€Ÿã«å‹•ãã€æ©Ÿèƒ½ãŒè±Šå¯Œã§ã€ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å¯¾å¿œã—ã¦ã„ã‚‹GPUãƒ™ãƒ¼ã‚¹ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ã™ã€‚
éå¸¸ã«å‹•ä½œãŒè»½ãã€Zoomãªã©ã®é‡ã„ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¦ã„ã¦iTerm2ã§ã¯ã‚‚ã£ã•ã‚Šã™ã‚‹å ´åˆã§ã‚‚Kittyãªã‚‰è»½å¿«ã«å‹•ä½œã—ã¾ã™ã€‚
ã¾ãŸåŒã˜GPUãƒ™ãƒ¼ã‚¹ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦[Alacritty](https://github.com/alacritty/alacritty)ãŒã‚ã‚Šã¾ã™ãŒã€æ—¥æœ¬èªIMEé–¢é€£ã®ãƒã‚°(ã‚‚ã†ã™ãè§£æ¶ˆã•ã‚Œãã†ãªæ°—é…ãŒã‚ã‚Šã¾ã™ãŒ)ãŒã‚ã£ãŸã‚Šã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒ¬ãƒ™ãƒ«ã®ç”»é¢åˆ†å‰²ã‚„ã‚¿ãƒ–ã«å¯¾å¿œã—ã¦ã„ãªã„ãªã©ã®å•é¡Œç‚¹ãŒã‚ã‚Šã€Kittyã¯ã“ã‚Œã‚‰ã®ç‚¹ã‚’è§£æ±ºã—ã¦ã„ã¾ã™ã€‚
æœ¬è¨˜äº‹ã§ã¯ã€ã“ã®Kittyã‚’macOSã§ä½¿ã„ã‚„ã™ãè¨­å®šã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

ã“ã®è¨˜äº‹ã‚’èª­ã‚€ã¨ä»¥ä¸‹ã®è¨­å®šã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
- iTerm2ã®ã‚ˆã†ã«ãƒ›ãƒƒãƒˆã‚­ãƒ¼(ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ)ã§å…¨ç”»é¢ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’è¡¨ç¤º/éè¡¨ç¤º
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é€é
- `cmd+d`ã§ç”»é¢åˆ†å‰²ã€`cmd+t`ã§æ–°è¦ã‚¿ãƒ–ã€`cmd+w`ã§Windowã‚’é–‰ã˜ã‚‹
- Icebergã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã®ç¾ã—ã„ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒ

![kitty-with-hotkey](https://storage.googleapis.com/zenn-user-upload/dee7c7116a16d5e2582188bb.gif)

# ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

ã¨ã‚Šã‚ãˆãšè¨­å®šã—ãŸã„ã¨ã„ã†æ–¹ã¯ã€ä»¥ä¸‹ã§è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

kittyã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
brew install --cask kitty
```

ãƒ›ãƒƒãƒˆã‚­ãƒ¼ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’è¡¨ç¤º/éè¡¨ç¤ºã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã™ã‚‹ã€Hammerspoonã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
brew install --cask hammerspoon
```

Kittyã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«`~/.config/kitty/kitty.conf`ã¨`~/.config/kitty/macos-launch-services-cmdline`ã‚’ä½œæˆ

``` python:kitty.conf
font_size 13.5

cursor #c7c7c7
cursor_text_color #FEFFFF

foreground #D1D2D3
background #16171E

#: black
color0 #000000
color8 #676767

#: red
color1 #E68E8E
color9 #FF6D67

#: green
color2  #83AC8E
color10 #5FF967

#: yellow
color3  #F5B78A
color11 #FEFB67

#: blue
color4  #9BB8DC
color12 #6871FF

#: magenta
color5  #BAACE2
color13 #FF76FF

#: cyan
color6  #00C5C7
color14 #5FFDFF

#: white
color7  #C7C7C7
color15 #FEFFFF

background_opacity 0.8

scrollback_lines 10000

enabled_layouts Grid

tab_bar_edge top
tab_bar_style powerline
tab_powerline_style angled
tab_title_template " {index}: {'{: <501}'.format(title)}"

kitty_mod cmd
map kitty_mod+d new_window_with_cwd
map kitty_mod+t new_tab_with_cwd
map kitty_mod+w close_window

macos_option_as_alt yes
macos_quit_when_last_window_closed yes
macos_traditional_fullscreen yes
```


```bash:macos-launch-services-cmdline
--start-as=fullscreen
```


ã‚‚ã—ãã¯ã€[kitty.conf](https://github.com/moisutsu/dotfiles/blob/main/kitty/kitty.conf)ã¨[macos-launch-services-cmdline](https://github.com/moisutsu/dotfiles/blob/main/kitty/macos-launch-services-cmdline)

Hammerspoonã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«`~/.hammerspoon/init.lua`ã‚’ä½œæˆ
```lua:init.lua
hs.hotkey.bind({"ctrl"}, "t", function()
    local kitty = hs.application.get("kitty")
    if kitty == nil then
        hs.application.launchOrFocus("/Applications/kitty.app")
    elseif kitty:isFrontmost() then
        kitty:hide()
    else
        hs.application.launchOrFocus("/Applications/kitty.app")
    end
end)
```

ã‚‚ã—ãã¯ã€[init.lua](https://github.com/moisutsu/dotfiles/blob/main/.hammerspoon/init.lua)

ã“ã®å¾Œã€Hammerspoonã®è¨­å®šã‚’å†èª­ã¿è¾¼ã¿ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚(GUIã®ã‚¢ãƒ—ãƒªã‹ã‚‰è¡Œã†ã“ã¨ãŒã§ãã¾ã™)

ä»¥ä¸Šã§è¨­å®šã¯çµ‚äº†ã§ã€`ctrl+t`ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®è¡¨ç¤º/éè¡¨ç¤ºã€`cmd+d`ã§ç”»é¢åˆ†å‰²ã€`cmd+t`ã§æ–°è¦ã‚¿ãƒ–ä½œæˆã€`cmd+w`ã§Windowã®çµ‚äº†ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

# Kittyã®è¨­å®š

ã“ã“ã§ã¯Kittyã®è¨­å®šã«ã¤ã„ã¦è©³ã—ãè¦‹ã¦ã„ãã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Kittyã¯Homebrewã®caskã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```bash
brew install --cask kitty
```

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

åŸºæœ¬çš„ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ã™ã¹ã¦[ã“ã¡ã‚‰](https://sw.kovidgoyal.net/kitty/conf/)ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

ã¾ãš`~/.config/kitty/kitty.conf`ã‚’ä½œæˆã—ã¾ã™ã€‚æ—¢ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”Ÿæˆã•ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

æ¬¡ã«è¨­å®šã™ã‚‹é …ç›®ã«ã¤ã„ã¦ä¸€ã¤ãšã¤è¦‹ã¦ã„ãã¾ã™ã€‚

### ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º

ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’è¨­å®šã—ã¾ã™ã€‚

```
font_size 13.5
```

### ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒ
Icebergã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã®ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã‚’è¨­å®šã—ã¾ã™ã€‚

```
cursor #c7c7c7
cursor_text_color #FEFFFF

foreground #D1D2D3
background #16171E

#: black
color0 #000000
color8 #676767

#: red
color1 #E68E8E
color9 #FF6D67

#: green
color2  #83AC8E
color10 #5FF967

#: yellow
color3  #F5B78A
color11 #FEFB67

#: blue
color4  #9BB8DC
color12 #6871FF

#: magenta
color5  #BAACE2
color13 #FF76FF

#: cyan
color6  #00C5C7
color14 #5FFDFF

#: white
color7  #C7C7C7
color15 #FEFFFF
```

### ç”»é¢ã®é€é
ç”»é¢ã®é€éç‡ã‚’è¨­å®šã—ã¾ã™ã€‚
```
background_opacity 0.8
```

### ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚µã‚¤ã‚º
ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚µã‚¤ã‚ºã‚’è¨­å®šã—ã¾ã™ã€‚
```
scrollback_lines 10000
```

### ç”»é¢åˆ†å‰²
ç”»é¢åˆ†å‰²æ–¹æ³•ã‚’è¨­å®šã—ã¾ã™ã€‚
Kittyã¯ç”»é¢åˆ†å‰²æ–¹æ³•ãŒç‰¹æ®Šã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç¸¦åˆ†å‰²ã‚„æ¨ªåˆ†å‰²ã‚’æŒ‡å®šã™ã‚‹ã®ã§ã¯ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç”»é¢åˆ†å‰²ã‚’ã™ã‚‹ãŸã³ã«ã€ã‚¢ãƒ—ãƒªå´ãŒè¨­å®šã«æ²¿ã£ã¦ç¸¦åˆ†å‰²ã‹æ¨ªåˆ†å‰²ã‹ã‚’è‡ªå‹•ã§åˆ¤æ–­ã—ã¾ã™ã€‚
æœ¬è¨˜äº‹ã§ã¯ã€ç­†è€…ãŒæœ€ã‚‚ç›´æ„Ÿçš„ã«ã ã£ãŸåˆ†å‰²æ–¹æ³•ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ãŒã€ã‚‚ã—ä½¿ã„ã¥ã‚‰ã„å ´åˆã¯[ã“ã¡ã‚‰](https://sw.kovidgoyal.net/kitty/overview/#layouts)ã«å…¨ã¦ã®åˆ†å‰²æ–¹æ³•ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚
```
enabled_layouts Grid
```

### ã‚¿ãƒ–
ã‚¿ãƒ–ã®è¦‹ãŸç›®ã‚’è¨­å®šã—ã¾ã™ã€‚
```
tab_bar_edge top
tab_bar_style powerline
tab_powerline_style angled
tab_title_template " {index}: {'{: <501}'.format(title)}"
```
Kittyã§ã¯ã‚¿ãƒ–ã®æ¨ªå¹…ãŒã€ã‚¿ãƒ–ã®å†…å®¹ã«ã‚ˆã£ã¦ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«å¤‰åŒ–ã—ã¾ã™ã€‚
ã¤ã¾ã‚Šã€ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã‚Šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç§»å‹•ã™ã‚‹ãŸã³ã«ã€ã‚¿ãƒ–ã®æ¨ªå¹…ãŒå¤‰åŒ–ã—ã¦ã—ã¾ã†ã¨ã„ã†ã“ã¨ã§ã‚ã‚Šã€ã“ã‚ŒãŒã‹ãªã‚Šæ°—ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚
ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã€ã‚¿ãƒ–ã®å†…å®¹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è¨­å®šã™ã‚‹`tab_title_template`ã§å³ã«ç©ºç™½ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã§ã€å¸¸ã«ã‚¿ãƒ–ã®æ¨ªå¹…ãŒæœ€å¤§ã«ãªã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã—ãŸã€‚
ã‚‚ã—ã‚¿ãƒ–ã®æ¨ªå¹…ã®å¤‰åŒ–ãŒæ°—ã«ãªã‚‰ãªã„ãªã‚‰ã€`tab_title_template " {index}: {title}"`ã¨è¨­å®šã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šè¡¨ç¤ºã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’è¨­å®šã—ã¾ã™ã€‚
```
kitty_mod cmd
map kitty_mod+d new_window_with_cwd
map kitty_mod+t new_tab_with_cwd
map kitty_mod+w close_window
```
ä¸Šè¨˜ã®è¨­å®šã§ã¯ã€æ–°ã—ã„Window(åˆ†å‰²)ã‚„ã‚¿ãƒ–ã‚’ç”Ÿæˆã™ã‚‹ã¨ãã«ã€å…ƒã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å¼•ãç¶™ãã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
ã‚‚ã—ã“ã®è¨­å®šãŒä¸è¦ãªã‚‰ã°`new_window_with_cwd`ã€`new_tab_with_cwd`ã®ä»£ã‚ã‚Šã«`new_window`ã€`new_tab`ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

### macOSå›ºæœ‰ã®è¨­å®š
macOSå‘ã‘ã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚
```
macos_option_as_alt yes
macos_quit_when_last_window_closed yes
macos_traditional_fullscreen yes
```
`macos_traditional_fullscreen`ã¯å¿…é ˆã§ã™ãŒã€`macos_option_as_alt`(optionã‚’altã¨ã—ã¦æ‰±ã†)ã¨`macos_quit_when_last_window_closed`(æœ€å¾Œã®ã‚·ã‚§ãƒ«ãŒçµ‚äº†ã—ãŸã¨ãã«Kittyã‚‚çµ‚äº†ã™ã‚‹)ã¯ä»»æ„ã§ã™ã€‚

æœ€å¾Œã«ä»¥ä¸‹ã®å†…å®¹ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«`~/.config/kitty/macos-launch-services-cmdline`ã‚’ä½œæˆã—ã¾ã™ã€‚
```bash:macos-launch-services-cmdline
--start-as=fullscreen
```

# Hammerspoonã®è¨­å®š

[Hammerspoon](https://github.com/Hammerspoon/hammerspoon)ã¯macOSã§è‡ªå‹•åŒ–ã‚’è¡Œã†ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€æœ¬è¨˜äº‹ã§ã¯Kittyã‚’ãƒ›ãƒƒãƒˆã‚­ãƒ¼ã§è¡¨ç¤º/éè¡¨ç¤ºã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã—ã¾ã™ã€‚

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Hammerspoonã¯Homebrewã®caskã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```bash
brew install --cask hammerspoon
```

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

Hammerspoonã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«`~/.hammerspoon/init.lua`ã‚’ä½œæˆã—ã¾ã™ã€‚
`ctrl+t`ã§Kittyã‚’è¡¨ç¤º/éè¡¨ç¤ºã—ã¾ã™ã€‚

```lua: init.lua
hs.hotkey.bind({"ctrl"}, "t", function()
    local kitty = hs.application.get("kitty")
    if kitty == nil then
        hs.application.launchOrFocus("/Applications/kitty.app")
    elseif kitty:isFrontmost() then
        kitty:hide()
    else
        hs.application.launchOrFocus("/Applications/kitty.app")
    end
end)
```
ã“ã®é–¢æ•°ã§ã¯Kittyã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’å–å¾—ã—ã€æœ€å‰é¢ã«ã‚ã‚‹ãªã‚‰éè¡¨ç¤ºã«ã—ã€ãã‚Œä»¥å¤–ãªã‚‰æœ€å‰é¢ã«è¡¨ç¤ºã—ã¾ã™ã€‚
ã¾ãŸã€`hs.hotkey.bind`ã®ç¬¬1å¼•æ•°ã€ç¬¬2å¼•æ•°ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ãƒ›ãƒƒãƒˆã‚­ãƒ¼ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ãŸå¾Œã«ã€è¨­å®šã‚’å†èª­ã¿è¾¼ã¿ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã¯Hammerspoonã®ã‚¢ãƒ—ãƒªã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã“ã¨ã§èµ·å‹•ã§ãã‚‹Hammerspoon Consoleã®å³ä¸Šã®`Reload config`ã‹ã‚‰è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚


# ãŠã‚ã‚Šã«

æœ¬è¨˜äº‹ã§ã¯ã€GPUãƒ™ãƒ¼ã‚¹ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«Kittyã‚’macOSç”¨ã«ä½¿ã„ã‚„ã™ãè¨­å®šã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚
Kittyã¯ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãªã©ã€ä»–ã«ã‚‚æ§˜ã€…ãªæ©Ÿèƒ½ãŒã‚ã‚‹ã®ã§æ˜¯é[ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸](https://sw.kovidgoyal.net/kitty/)ã§ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚
